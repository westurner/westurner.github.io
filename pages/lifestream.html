
    <link href="../_static/css/lifestream.css" rel="stylesheet" type="text/css">
    <style type="text/css">
    #lifestream ul li { list-style-type: none;}
    #lifestream {
      /*background: #333;
      border-radius: 7px;
      color: #d4d4d4;
      width: 450px;
      font-size:11px;*/
    }
    #lifestream a {
      /*color: #f6dd97;*/
      text-decoration: none;
    }
    #lifestream a:hover {
      /*color: #fff5d8;*/
      text-decoration: underline;
    }
    #lifestream ul {
      padding: 10px;
    }
    #lifestream li {
      padding: 5px 3px 5px 25px;
      background-repeat: no-repeat;
      background-position: left center;
    }
    #lifestream li:hover {
      /* color: #e9e9e9; */
    }
    #lifestream .timeago {
      display: block;
      clear:both;
      opacity: .5;
      border-bottom: 0 !important;
    }
    </style>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>-->
    <script src="../_static/js/jquery.lifestream.min.js"></script>
    <script src="../_static/js/jquery.timeago.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript">
    var accounts_list = [
    //{service:"bitbucket", user:"westurner"},
    {   service:"bitly",
        user:"westurner",
        template: {
            created:
                'shared <a href="${short_url}" title="${title}">' +
                '${short_url}</a>'
        },
    },
    {   service:"disqus",
        user:"1092665",
        key:"kkdNdXNS6fJli47N3A6mvweO62BLmZC8hBGv5J4L526YnmoEPe8ULfVvvJC4f6or"}, //user:"westurner"
    {   service:"flickr",
        user:"29384429@N04"}, //user:"westurner"},
    {   service:"github",
        user:"westurner",
        template: {
            commitCommentEvent: 'commented on <a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>',
            createBranchEvent: 'created branch <a href="http://github.com/' +
                '${status.repo.name}/tree/${status.payload.ref}">' +
                '${status.payload.ref}</a> at <a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>',
            createRepositoryEvent: 'created repository ' +
                '<a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>',
            createTagEvent: 'created tag <a href="http://github.com/' +
                '${status.repo.name}/tree/${status.payload.ref}">' +
                '${status.payload.ref}</a> at <a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>',
            deleteBranchEvent: 'deleted branch ${status.payload.ref} at ' +
                '<a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            deleteTagEvent: 'deleted tag ${status.payload.ref} at ' +
                '<a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            followEvent: 'started following <a href="http://github.com/' +
                '${status.payload.target.login}">${status.payload.target.login}</a>',
            forkEvent: 'forked <a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            gistEvent: '${status.payload.action} gist ' +
                '<a href="http://gist.github.com/${status.payload.gist.id}">' +
                '${status.payload.gist.id}</a>',
            issueCommentEvent: 'commented on issue <a href="http://github.com/' +
                '${status.repo.name}/issues/${status.payload.issue.number}">' +
                '${status.payload.issue.number}</a> on <a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>',
            issuesEvent: '${status.payload.action} issue ' +
                '<a href="http://github.com/${status.repo.name}/issues/' +
                '${status.payload.issue.number}">${status.payload.issue.number}</a> '+
                'on <a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            pullRequestEvent: '${status.payload.action} pull request ' +
                '<a href="http://github.com/${status.repo.name}/pull/' +
                '${status.payload.number}">${status.payload.number}</a> on ' +
                '<a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            pushEvent: 'pushed to <a href="http://github.com/${status.repo.name}' +
                '/tree/${status.payload.ref}">${status.payload.ref}</a> at ' +
                '<a href="http://github.com/${status.repo.name}">' +
                '${status.repo.name}</a>',
            watchEvent: 'starred <a href="http://github.com/' +
                '${status.repo.name}">${status.repo.name}</a>'
        }
    },
    {   service:"googleplus",
        user:"114596103453008801526",
        key:"AIzaSyC_w11BJHfblXv2eiygei0j-Sp2Tom83_Y",
        template: {
            posted: // '<a href="${actor.url}">${actor.displayName}</a>' +
                'shared <a href="${url}" ' +
                'title="${object.replies.totalItems} replies, ' +
                '${object.plusoners.totalItems} +1s, ' +
                '${object.resharers.totalItems} reshares">' +
                '${title} (' +
                '${object.replies.totalItems}/' +
                '${object.plusoners.totalItems}/' +
                '${object.resharers.totalItems}) </a>'
        },
    },
    //{   service:"instagram", user:"dubturner", },
    {   service:"lastfm",
        user:"westurner"},
    //{service:"librarything", user:"westurner"},
    //{service:"linkedin", user:"westurner", url:"http://linkedin.com/in/westurner"},
    {   service:"mendeley",
        user:"wes-turner"},
    {   service:"quora",
        user:"Wes-Turner-1"},
    {   service:"reddit",
        user:"westurner",
        template: {
            commented:
                'commented on <a href="http://www.reddit.com/r/${item.data.subreddit}' +
                '/comments/${item.data.link_id.substring(3)}/u/' +
                '${item.data.name.substring(3)}?context=3">${item.data.link_title} ' +
                '(${score})</a> in <a href="http://www.reddit.com/r/' +
                '${item.data.subreddit}">${item.data.subreddit}</a>',
            created:
                'shared ' +
                '<a href="http://www.reddit.com${item.data.permalink}">' +
                '${item.data.title} (${score})</a> in ' +
                '<a href="http://www.reddit.com/r/${item.data.subreddit}">' +
                '${item.data.subreddit}</a>'
        },
    },
    {   service:"stackoverflow",
        user:"188833",
        template: {
            global: '<i>${text}</i> <a href="${link}">${title}</a>'
        },
    },
    {   service:"tumblr",
        user:"westurner" },
    {   service:"twitter",
        user:"westurner",
        template: {
          "posted": '<a href="${complete_url}">tweeted</a> <i>{{html tweet}}</i>'
        },
    },
    {service:"wikipedia", user:"Wes.turner"},
    {service:"youtube", user:"ws.turn"},
    {service:"zotero", user:"westurner"}
    ];


    $(document).ready(function() {

      var count = 0;

      Date.prototype.toISO8601 = function(date) {
          var pad = function (amount, width) {
              var padding = "";
              while (padding.length < width - 1 && amount < Math.pow(10, width - padding.length - 1))
                  padding += "0";
              return padding + amount.toString();
          }
          date = date ? date : new Date();
          var offset = date.getTimezoneOffset();
          return pad(date.getFullYear(), 4)
              + "-" + pad(date.getMonth() + 1, 2)
              + "-" + pad(date.getDate(), 2)
              + "T" + pad(date.getHours(), 2)
              + ":" + pad(date.getMinutes(), 2)
              + ":" + pad(date.getUTCSeconds(), 2)
              + (offset > 0 ? "-" : "+")
              + pad(Math.floor(Math.abs(offset) / 60), 2)
              + ":" + pad(Math.abs(offset) % 60, 2);
      };

      $("#lifestream").lifestream({
        limit: 400,
        list: accounts_list,
        feedloaded: function(){
          count++;
          // Check if all the feeds have been loaded
          $("#lifestream a").attr('target','_blank');
          if( count === accounts_list.length + 1 ){
            $("#lifestream li").each(function(){
              var element = $(this),
              date = new Date(element.data("time"));
              element.append(' <abbr class="timeago" title="' + date.toISO8601(date) + '">' + date + "</abbr>");
            })
            $("#lifestream .timeago").timeago();
          }
        }
      });
    });

</script>
<div id="lifestream">&nbsp;</div>
